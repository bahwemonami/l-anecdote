<header 
  class="header"
  [class.header--scrolled]="isScrolled()"
  [class.header--menu-open]="isMobileMenuOpen()">
  
  <div class="header__container">
    <!-- Logo -->
    <a routerLink="/" class="header__logo" (click)="closeMobileMenu()">
      <span class="header__logo-text">{{ restaurant.name }}</span>
    </a>

    <!-- Desktop Navigation -->
    <nav class="header__nav" aria-label="Navigation principale">
      <ul class="header__nav-list">
        @for (item of navItems; track item.path) {
          <li class="header__nav-item">
            <a 
              [routerLink]="item.path" 
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: item.path === '/' }"
              class="header__nav-link">
              {{ item.label }}
            </a>
          </li>
        }
      </ul>
    </nav>

    <!-- CTA Buttons -->
    <div class="header__cta">
      <a 
        [href]="'tel:' + restaurant.contact.phone" 
        class="btn btn-secondary btn-sm header__cta-call"
        aria-label="Appeler le restaurant">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
        </svg>
        <span>{{ restaurant.contact.phoneDisplay }}</span>
      </a>
      <a 
        [href]="restaurant.contact.social.thefork" 
        target="_blank"
        rel="noopener noreferrer"
        class="btn btn-accent btn-sm"
        aria-label="Réserver sur TheFork">
        Réserver
      </a>
    </div>

    <!-- Mobile Menu Toggle -->
    <button 
      class="header__hamburger"
      [class.header__hamburger--active]="isMobileMenuOpen()"
      (click)="toggleMobileMenu()"
      [attr.aria-expanded]="isMobileMenuOpen()"
      aria-controls="mobile-menu"
      aria-label="Ouvrir le menu">
      <span class="header__hamburger-line"></span>
      <span class="header__hamburger-line"></span>
      <span class="header__hamburger-line"></span>
    </button>
  </div>

  <!-- Mobile Menu Overlay -->
  <div 
    id="mobile-menu"
    class="header__mobile-menu"
    [class.header__mobile-menu--open]="isMobileMenuOpen()"
    [attr.aria-hidden]="!isMobileMenuOpen()">
    
    <nav class="header__mobile-nav" aria-label="Navigation mobile">
      <ul class="header__mobile-nav-list">
        @for (item of navItems; track item.path; let i = $index) {
          <li 
            class="header__mobile-nav-item"
            [style.animation-delay]="(i * 0.05) + 's'">
            <a 
              [routerLink]="item.path" 
              routerLinkActive="active"
              [routerLinkActiveOptions]="{ exact: item.path === '/' }"
              class="header__mobile-nav-link"
              (click)="closeMobileMenu()">
              {{ item.label }}
            </a>
          </li>
        }
      </ul>
    </nav>

    <div class="header__mobile-cta">
      <a 
        [href]="'tel:' + restaurant.contact.phone" 
        class="btn btn-primary btn-lg"
        aria-label="Appeler le restaurant">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
        </svg>
        Appeler
      </a>
      <a 
        [href]="restaurant.contact.social.thefork" 
        target="_blank"
        rel="noopener noreferrer"
        class="btn btn-accent btn-lg">
        Réserver une table
      </a>
    </div>

    <div class="header__mobile-info">
      <p class="header__mobile-address">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
          <circle cx="12" cy="10" r="3"/>
        </svg>
        {{ restaurant.address.full }}
      </p>
    </div>
  </div>
</header>
