<!-- Hero Section -->
<section class="hero">
  <div class="hero__background">
    <img 
      src="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=1920" 
      alt="Intérieur du restaurant L'Anecdote"
      loading="eager">
    <div class="hero__overlay"></div>
  </div>
  
  <div class="hero__content">
    <span class="hero__badge">Restaurant Français</span>
    <h1 class="hero__title">{{ restaurant.name }}</h1>
    <p class="hero__subtitle">{{ restaurant.tagline }}</p>
    
    <div class="hero__rating">
      <div class="hero__stars">
        @for (star of getStarArray(restaurant.rating.overall); track $index) {
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
          </svg>
        }
      </div>
      <span>{{ restaurant.rating.overall }}/{{ restaurant.rating.maxRating }} · {{ restaurant.rating.totalReviews }} avis</span>
    </div>

    <div class="hero__cta">
      <a 
        [href]="'tel:' + restaurant.contact.phone" 
        class="btn btn-white btn-lg">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
        </svg>
        Appeler
      </a>
      <a 
        [href]="restaurant.contact.social.thefork" 
        target="_blank"
        rel="noopener noreferrer"
        class="btn btn-accent btn-lg">
        Réserver une table
      </a>
    </div>

    <div class="hero__scroll">
      <span>Découvrir</span>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m6 9 6 6 6-6"/>
      </svg>
    </div>
  </div>
</section>

<!-- About Section -->
<section class="about section">
  <div class="container">
    <div class="about__grid scroll-reveal">
      <div class="about__image">
        <img 
          src="https://images.unsplash.com/photo-1466978913421-dad2ebd01d17?w=800" 
          alt="Ambiance chaleureuse du restaurant"
          loading="lazy">
        <div class="about__image-accent"></div>
      </div>
      <div class="about__content">
        <span class="about__label">Bienvenue</span>
        <h2 class="about__title">Un bistrot parisien authentique</h2>
        <p class="about__text">{{ restaurant.shortDescription }}</p>
        <div class="about__features">
          @for (feature of restaurant.features.slice(0, 4); track feature) {
            <div class="about__feature">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                <path d="m9 11 3 3L22 4"/>
              </svg>
              <span>{{ feature }}</span>
            </div>
          }
        </div>
        <a routerLink="/about" class="btn-link">
          Découvrir notre histoire
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m9 18 6-6-6-6"/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Specialties Section -->
<section class="specialties section">
  <div class="container">
    <div class="section-header scroll-reveal">
      <span class="section-label">Nos Spécialités</span>
      <h2 class="section-title">Plats Signatures</h2>
      <p class="section-subtitle">Découvrez les créations favorites de notre chef, préparées avec passion et des produits frais</p>
    </div>

    <div class="specialties__grid">
      @for (dish of signatureDishes; track dish.id; let i = $index) {
        <article class="dish-card scroll-reveal" [style.animation-delay]="(i * 0.1) + 's'">
          <div class="dish-card__image">
            <img [src]="dish.image" [alt]="dish.name" loading="lazy">
            @if (dish.isVegetarian) {
              <span class="dish-card__badge dish-card__badge--veg">Végétarien</span>
            }
          </div>
          <div class="dish-card__content">
            <h3 class="dish-card__title">{{ dish.name }}</h3>
            <p class="dish-card__description">{{ dish.description }}</p>
            <div class="dish-card__footer">
              <span class="dish-card__price">{{ dish.price }} €</span>
            </div>
          </div>
        </article>
      }
    </div>

    <div class="specialties__cta scroll-reveal">
      <a routerLink="/menu" class="btn btn-primary btn-lg">
        Voir la carte complète
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="m9 18 6-6-6-6"/>
        </svg>
      </a>
    </div>
  </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials section">
  <div class="container">
    <div class="section-header scroll-reveal">
      <span class="section-label">Témoignages</span>
      <h2 class="section-title">Ce que disent nos clients</h2>
    </div>

    <div class="testimonials__carousel scroll-reveal">
      <div class="testimonials__track" [style.transform]="'translateX(-' + (currentReviewIndex() * 100) + '%)'">
        @for (review of featuredReviews; track review.id) {
          <div class="testimonials__slide">
            <blockquote class="testimonial-card">
              <div class="testimonial-card__rating">
                @for (star of getStarArray(review.rating); track $index) {
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                  </svg>
                }
                <span>{{ review.rating }}/{{ review.maxRating }}</span>
              </div>
              <p class="testimonial-card__text">"{{ review.comment }}"</p>
              <footer class="testimonial-card__footer">
                <div class="testimonial-card__avatar">{{ review.author.charAt(0) }}</div>
                <div class="testimonial-card__author">
                  <cite>{{ review.author }}</cite>
                  <span>{{ review.dateFormatted }}</span>
                </div>
              </footer>
            </blockquote>
          </div>
        }
      </div>

      <div class="testimonials__dots">
        @for (review of featuredReviews; track review.id; let i = $index) {
          <button 
            class="testimonials__dot"
            [class.testimonials__dot--active]="currentReviewIndex() === i"
            (click)="setReviewIndex(i)"
            [attr.aria-label]="'Voir avis ' + (i + 1)">
          </button>
        }
      </div>
    </div>

    <div class="testimonials__cta scroll-reveal">
      <a routerLink="/reviews" class="btn-link">
        Voir tous les avis
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="m9 18 6-6-6-6"/>
        </svg>
      </a>
    </div>
  </div>
</section>

<!-- Info Section -->
<section class="info section">
  <div class="container">
    <div class="info__grid">
      <!-- Map -->
      <div class="info__map scroll-reveal">
        <iframe 
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2625.4567!2d2.3863!3d48.8448!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDjCsDUwJzQxLjMiTiAywrAyMycxMC43IkU!5e0!3m2!1sfr!2sfr!4v1234567890"
          width="100%" 
          height="100%" 
          style="border:0;" 
          allowfullscreen="" 
          loading="lazy" 
          referrerpolicy="no-referrer-when-downgrade"
          title="Localisation du restaurant L'Anecdote">
        </iframe>
      </div>

      <!-- Contact Info -->
      <div class="info__content scroll-reveal">
        <h2 class="info__title">Nous trouver</h2>
        
        <div class="info__status" [class.info__status--open]="isOpen()">
          <span class="info__status-dot"></span>
          <span>{{ isOpen() ? 'Ouvert actuellement' : 'Fermé actuellement' }}</span>
        </div>

        <div class="info__details">
          <div class="info__item">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
              <circle cx="12" cy="10" r="3"/>
            </svg>
            <div>
              <strong>Adresse</strong>
              <p>{{ restaurant.address.full }}</p>
            </div>
          </div>

          <div class="info__item">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/>
              <polyline points="12 6 12 12 16 14"/>
            </svg>
            <div>
              <strong>Horaires aujourd'hui</strong>
              <p>{{ todayHours }}</p>
            </div>
          </div>

          <div class="info__item">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/>
              <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/>
              <path d="M2 12h20"/>
            </svg>
            <div>
              <strong>Métro</strong>
              <p>{{ restaurant.metroStation }}</p>
            </div>
          </div>

          <div class="info__item">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
            </svg>
            <div>
              <strong>Téléphone</strong>
              <p>{{ restaurant.contact.phoneDisplay }}</p>
            </div>
          </div>
        </div>

        <div class="info__cta">
          <a 
            [href]="'tel:' + restaurant.contact.phone" 
            class="btn btn-primary">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
            </svg>
            Appeler
          </a>
          <a 
            [href]="restaurant.address.googleMapsUrl" 
            target="_blank"
            rel="noopener noreferrer"
            class="btn btn-secondary">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polygon points="3 11 22 2 13 21 11 13 3 11"/>
            </svg>
            Itinéraire
          </a>
        </div>
      </div>
    </div>
  </div>
</section>
